{"ast":null,"code":"import _objectSpread from \"/home/raj/.nvm/versions/node/v12.18.2/lib/node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/raj/.nvm/versions/node/v12.18.2/lib/node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/raj/go/src/github.com/litmuschaos/litmus/litmus-portal/frontend/src/views/Settings/UserManagementTab/UserManagement/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { createStyles, FormControl, IconButton, InputAdornment, InputLabel, Menu, MenuItem, Paper, Select, Table, TableBody, TableCell, TableContainer, TableHead, TablePagination, TableRow, TextField, Toolbar, Typography, withStyles } from '@material-ui/core';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport SearchIcon from '@material-ui/icons/Search';\nimport moment from 'moment';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ButtonFilled from '../../../../components/Button/ButtonFilled';\nimport config from '../../../../config';\nimport getToken from '../../../../utils/getToken';\nimport CreateUser from '../CreateUser';\nimport EditUser from '../EditUser';\nimport useStyles from './styles'; // StyledTableCell used to create custom table cell\n\nvar StyledTableCell = withStyles(function (theme) {\n  return createStyles({\n    head: {\n      backgroundColor: theme.palette.homePageCardBackgroundColor,\n      color: theme.palette.teamingTabHeadTextColor\n    },\n    body: {\n      fontSize: '0.875rem'\n    }\n  });\n})(TableCell);\n\n// UserManagement displays users table\nvar UserManagement = function UserManagement() {\n  _s();\n\n  var _rows$filter, _currRow$email, _currRow$name, _currRow$username, _filteredData$length;\n\n  var classes = useStyles();\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      showDiv = _React$useState2[0],\n      setShowDiv = _React$useState2[1]; // for response data\n\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      rows = _useState2[0],\n      setRows = _useState2[1]; // States for filters\n\n\n  var _useState3 = useState({\n    search: '',\n    status: 'all'\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      filters = _useState4[0],\n      setFilters = _useState4[1]; // State for pagination\n\n\n  var _useState5 = useState({\n    pageNo: 0,\n    rowsPerPage: 5\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      paginationData = _useState6[0],\n      setPaginationData = _useState6[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      editDiv = _React$useState4[0],\n      setEditDiv = _React$useState4[1];\n\n  var _React$useState5 = React.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      anchorEl = _React$useState6[0],\n      setAnchorEl = _React$useState6[1];\n\n  useEffect(function () {\n    fetch(\"\".concat(config.auth.url, \"/users\"), {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: \"Bearer \".concat(getToken())\n      }\n    }).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      setRows(res);\n    }).catch(function (err) {\n      console.error(err);\n    });\n  }, [showDiv]);\n  var filteredData = rows === null || rows === void 0 ? void 0 : (_rows$filter = rows.filter(function (dataRow) {\n    return dataRow.username !== 'admin';\n  })) === null || _rows$filter === void 0 ? void 0 : _rows$filter.filter(function (dataRow) {\n    return dataRow.name.toLowerCase().includes(filters.search.toLowerCase());\n  }).filter(function (datarow) {\n    if (filters.status === 'all') return true;\n    if (filters.status === 'signedin') return datarow.logged_in === true;\n    return datarow.logged_in === false;\n  });\n\n  var handleClose = function handleClose() {\n    setAnchorEl(null);\n  };\n\n  var _React$useState7 = React.useState(),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      currRow = _React$useState8[0],\n      setCurrRow = _React$useState8[1];\n\n  var formatDate = function formatDate(date) {\n    var day = moment(date).format('Do MMM, YYYY LT');\n    return day;\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 5\n    }\n  }, showDiv ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CreateUser, {\n    handleDiv: function handleDiv() {\n      return setShowDiv(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, editDiv ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(EditUser, {\n    handleDiv: function handleDiv() {\n      return setEditDiv(false);\n    },\n    email: (_currRow$email = currRow === null || currRow === void 0 ? void 0 : currRow.email) !== null && _currRow$email !== void 0 ? _currRow$email : '',\n    fullName: (_currRow$name = currRow === null || currRow === void 0 ? void 0 : currRow.name) !== null && _currRow$name !== void 0 ? _currRow$name : '',\n    userName: (_currRow$username = currRow === null || currRow === void 0 ? void 0 : currRow.username) !== null && _currRow$username !== void 0 ? _currRow$username : '',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 15\n    }\n  })) :\n  /*#__PURE__*/\n  // for displaying user table\n  React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.UMDiv,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.members,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"./icons/user.svg\",\n    alt: \"members\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.memTypo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 19\n    }\n  }, t('settings.userManagementTab.header'), \" (\", /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }, rows ? rows.length : 0), \")\")), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.descText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }, t('settings.userManagementTab.info')), /*#__PURE__*/React.createElement(Toolbar, {\n    \"data-cy\": \"toolBarComponent\",\n    className: classes.toolbar,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.toolbarFirstCol,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    \"data-cy\": \"searchField\",\n    id: \"input-with-icon-adornment\",\n    placeholder: t('settings.userManagementTab.label.search'),\n    value: filters.search,\n    onChange: function onChange(e) {\n      setFilters(_objectSpread(_objectSpread({}, filters), {}, {\n        search: e.target.value\n      }));\n      setPaginationData(_objectSpread(_objectSpread({}, paginationData), {}, {\n        pageNo: 0\n      }));\n    },\n    InputProps: {\n      style: {\n        maxWidth: '15.75rem'\n      },\n      startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"start\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(SearchIcon, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 29\n        }\n      }))\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.filter,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    variant: \"outlined\",\n    className: classes.formControl,\n    color: \"secondary\",\n    focused: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    className: classes.selectText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 25\n    }\n  }, t('settings.userManagementTab.label.userStatus')), /*#__PURE__*/React.createElement(Select, {\n    label: \"User Status\",\n    value: filters.status,\n    onChange: function onChange(event) {\n      setFilters(_objectSpread(_objectSpread({}, filters), {}, {\n        status: event.target.value\n      }));\n      setPaginationData(_objectSpread(_objectSpread({}, paginationData), {}, {\n        pageNo: 0\n      }));\n    },\n    className: classes.selectText,\n    color: \"secondary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"all\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 27\n    }\n  }, t('settings.userManagementTab.label.options.all')), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"signedout\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 27\n    }\n  }, t('settings.userManagementTab.label.options.notSignedIn')), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"signedin\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 27\n    }\n  }, t('settings.userManagementTab.label.options.signedIn')))))), /*#__PURE__*/React.createElement(\"div\", {\n    \"data-cy\": \"createUser\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(ButtonFilled, {\n    handleClick: function handleClick() {\n      setShowDiv(true);\n    },\n    isPrimary: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 23\n    }\n  }, t('settings.userManagementTab.button.create'))))), /*#__PURE__*/React.createElement(Paper, {\n    className: classes.root,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableContainer, {\n    className: classes.table,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    stickyHeader: true,\n    \"aria-label\": \"sticky table\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    className: classes.TR,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(StyledTableCell, {\n    className: classes.styledTC,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 27\n    }\n  }, t('settings.userManagementTab.tableCell.status')), /*#__PURE__*/React.createElement(StyledTableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 27\n    }\n  }, t('settings.userManagementTab.tableCell.username')), /*#__PURE__*/React.createElement(StyledTableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 27\n    }\n  }, t('settings.userManagementTab.tableCell.email')), /*#__PURE__*/React.createElement(StyledTableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 27\n    }\n  }, t('settings.userManagementTab.tableCell.userCreated')), /*#__PURE__*/React.createElement(StyledTableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(TableHead, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 27\n    }\n  }))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 23\n    }\n  }, filteredData && filteredData.length ? filteredData.slice(paginationData.pageNo * paginationData.rowsPerPage, paginationData.pageNo * paginationData.rowsPerPage + paginationData.rowsPerPage).map(function (row, index) {\n    return /*#__PURE__*/React.createElement(TableRow, {\n      \"data-cy\": \"userTableRow\",\n      key: row.name,\n      className: classes.TR,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      className: classes.firstTC,\n      component: \"th\",\n      scope: \"row\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.firstCol,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 35\n      }\n    }, row.logged_in ? /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.Signed,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 39\n      }\n    }, t('settings.userManagementTab.label.options.signedIn')) : /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.NotSigned,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 39\n      }\n    }, t('settings.userManagementTab.label.options.notSignedIn')), row.name)), /*#__PURE__*/React.createElement(TableCell, {\n      className: classes.otherTC,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 33\n      }\n    }, row.username), /*#__PURE__*/React.createElement(TableCell, {\n      className: classes.otherTC,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 33\n      }\n    }, row.email), /*#__PURE__*/React.createElement(TableCell, {\n      className: classes.otherTC,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.dateDiv,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: classes.calIcon,\n      src: \"./icons/calendarIcon.svg\",\n      alt: \"calendar\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 37\n      }\n    }), formatDate(row.created_at))), /*#__PURE__*/React.createElement(TableCell, {\n      className: classes.lastTC,\n      key: row.username,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"data-cy\": \"editUser\",\n      \"aria-label\": \"more\",\n      \"aria-controls\": \"long-menu\",\n      \"aria-haspopup\": \"true\",\n      onClick: function onClick(event) {\n        setCurrRow(row);\n        setAnchorEl(event.currentTarget);\n      },\n      className: classes.optionBtn,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(MoreVertIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(Menu, {\n      keepMounted: true,\n      open: Boolean(anchorEl),\n      id: \"long-menu\",\n      anchorEl: anchorEl,\n      onClose: handleClose,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      \"data-cy\": \"editProfile\",\n      value: index,\n      onClick: function onClick() {\n        setEditDiv(true);\n        setAnchorEl(null);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      disabled: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"delete\",\n      src: \"./icons/Edit.svg\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 41\n      }\n    })), t('settings.userManagementTab.editProfile')))));\n  }) : /*#__PURE__*/React.createElement(TableRow, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    colSpan: 5,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    align: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 31\n    }\n  }, t('settings.userManagementTab.noUsers'))))))), /*#__PURE__*/React.createElement(TablePagination, {\n    rowsPerPageOptions: [5, 10, 25],\n    component: \"div\",\n    count: (_filteredData$length = filteredData === null || filteredData === void 0 ? void 0 : filteredData.length) !== null && _filteredData$length !== void 0 ? _filteredData$length : 0,\n    rowsPerPage: paginationData.rowsPerPage,\n    page: paginationData.pageNo,\n    onChangePage: function onChangePage(_, page) {\n      return setPaginationData(_objectSpread(_objectSpread({}, paginationData), {}, {\n        pageNo: page\n      }));\n    },\n    onChangeRowsPerPage: function onChangeRowsPerPage(event) {\n      return setPaginationData(_objectSpread(_objectSpread({}, paginationData), {}, {\n        pageNo: 0,\n        rowsPerPage: parseInt(event.target.value, 10)\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 19\n    }\n  }))))));\n};\n\n_s(UserManagement, \"uBK6p8aqDL3jB7Wwn1ITCLuRrec=\", false, function () {\n  return [useStyles, useTranslation];\n});\n\n_c = UserManagement;\nexport default UserManagement;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserManagement\");","map":{"version":3,"sources":["/home/raj/go/src/github.com/litmuschaos/litmus/litmus-portal/frontend/src/views/Settings/UserManagementTab/UserManagement/index.tsx"],"names":["createStyles","FormControl","IconButton","InputAdornment","InputLabel","Menu","MenuItem","Paper","Select","Table","TableBody","TableCell","TableContainer","TableHead","TablePagination","TableRow","TextField","Toolbar","Typography","withStyles","MoreVertIcon","SearchIcon","moment","React","useEffect","useState","useTranslation","ButtonFilled","config","getToken","CreateUser","EditUser","useStyles","StyledTableCell","theme","head","backgroundColor","palette","homePageCardBackgroundColor","color","teamingTabHeadTextColor","body","fontSize","UserManagement","classes","t","showDiv","setShowDiv","rows","setRows","search","status","filters","setFilters","pageNo","rowsPerPage","paginationData","setPaginationData","editDiv","setEditDiv","anchorEl","setAnchorEl","fetch","auth","url","headers","Authorization","then","response","json","res","catch","err","console","error","filteredData","filter","dataRow","username","name","toLowerCase","includes","datarow","logged_in","handleClose","currRow","setCurrRow","formatDate","date","day","format","email","UMDiv","members","memTypo","length","descText","toolbar","toolbarFirstCol","e","target","value","style","maxWidth","startAdornment","formControl","selectText","event","root","table","TR","styledTC","slice","map","row","index","firstTC","firstCol","Signed","NotSigned","otherTC","dateDiv","calIcon","created_at","lastTC","currentTarget","optionBtn","Boolean","_","page","parseInt"],"mappings":"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","sourcesContent":["import {\n  createStyles,\n  FormControl,\n  IconButton,\n  InputAdornment,\n  InputLabel,\n  Menu,\n  MenuItem,\n  Paper,\n  Select,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TablePagination,\n  TableRow,\n  TextField,\n  Theme,\n  Toolbar,\n  Typography,\n  withStyles,\n} from '@material-ui/core';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport SearchIcon from '@material-ui/icons/Search';\nimport moment from 'moment';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ButtonFilled from '../../../../components/Button/ButtonFilled';\nimport config from '../../../../config';\nimport getToken from '../../../../utils/getToken';\nimport CreateUser from '../CreateUser';\nimport EditUser from '../EditUser';\nimport useStyles from './styles';\n\n// StyledTableCell used to create custom table cell\nconst StyledTableCell = withStyles((theme: Theme) =>\n  createStyles({\n    head: {\n      backgroundColor: theme.palette.homePageCardBackgroundColor,\n      color: theme.palette.teamingTabHeadTextColor,\n    },\n    body: {\n      fontSize: '0.875rem',\n    },\n  })\n)(TableCell);\n\ninterface UserData {\n  _id: string;\n  username: string;\n  email: string;\n  name: string;\n  logged_in: boolean;\n  created_at: string;\n  updated_at: string;\n  removed_at: string;\n  state: string;\n}\n\ninterface FilterOptions {\n  search: string;\n  status: string;\n}\n\ninterface PaginationData {\n  pageNo: number;\n  rowsPerPage: number;\n}\n// UserManagement displays users table\nconst UserManagement: React.FC = () => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n\n  const [showDiv, setShowDiv] = React.useState<boolean>(false);\n  // for response data\n  const [rows, setRows] = useState<UserData[]>([]);\n  // States for filters\n  const [filters, setFilters] = useState<FilterOptions>({\n    search: '',\n    status: 'all',\n  });\n  // State for pagination\n  const [paginationData, setPaginationData] = useState<PaginationData>({\n    pageNo: 0,\n    rowsPerPage: 5,\n  });\n  const [editDiv, setEditDiv] = React.useState<boolean>(false);\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n\n  useEffect(() => {\n    fetch(`${config.auth.url}/users`, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${getToken()}`,\n      },\n    })\n      .then((response) => {\n        return response.json();\n      })\n      .then((res) => {\n        setRows(res);\n      })\n\n      .catch((err) => {\n        console.error(err);\n      });\n  }, [showDiv]);\n\n  const filteredData = rows\n    ?.filter((dataRow) => dataRow.username !== 'admin')\n    ?.filter((dataRow) =>\n      dataRow.name.toLowerCase().includes(filters.search.toLowerCase())\n    )\n    .filter((datarow) => {\n      if (filters.status === 'all') return true;\n      if (filters.status === 'signedin') return datarow.logged_in === true;\n      return datarow.logged_in === false;\n    });\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const [currRow, setCurrRow] = React.useState<UserData>();\n\n  const formatDate = (date: string) => {\n    const day = moment(date).format('Do MMM, YYYY LT');\n    return day;\n  };\n\n  return (\n    <div>\n      {showDiv ? (\n        <div>\n          {/* for create new user div */}\n          <CreateUser handleDiv={() => setShowDiv(false)} />\n        </div>\n      ) : (\n        <div>\n          {editDiv ? (\n            <div>\n              <EditUser\n                handleDiv={() => setEditDiv(false)}\n                email={currRow?.email ?? ''}\n                fullName={currRow?.name ?? ''}\n                userName={currRow?.username ?? ''}\n              />\n            </div>\n          ) : (\n            // for displaying user table\n            <div>\n              <div className={classes.UMDiv}>\n                <div className={classes.members}>\n                  <img src=\"./icons/user.svg\" alt=\"members\" />\n                  <Typography className={classes.memTypo}>\n                    {t('settings.userManagementTab.header')} (\n                    <span>{rows ? rows.length : 0}</span>)\n                  </Typography>\n                </div>\n                <Typography className={classes.descText}>\n                  {t('settings.userManagementTab.info')}\n                </Typography>\n\n                <Toolbar data-cy=\"toolBarComponent\" className={classes.toolbar}>\n                  {/* Search user */}\n                  <div className={classes.toolbarFirstCol}>\n                    <TextField\n                      data-cy=\"searchField\"\n                      id=\"input-with-icon-adornment\"\n                      placeholder={t('settings.userManagementTab.label.search')}\n                      value={filters.search}\n                      onChange={(e) => {\n                        setFilters({\n                          ...filters,\n                          search: e.target.value,\n                        });\n                        setPaginationData({ ...paginationData, pageNo: 0 });\n                      }}\n                      InputProps={{\n                        style: {\n                          maxWidth: '15.75rem',\n                        },\n                        startAdornment: (\n                          <InputAdornment position=\"start\">\n                            <SearchIcon />\n                          </InputAdornment>\n                        ),\n                      }}\n                    />\n                    {/* filter menu */}\n                    <div className={classes.filter}>\n                      <FormControl\n                        variant=\"outlined\"\n                        className={classes.formControl}\n                        color=\"secondary\"\n                        focused\n                      >\n                        <InputLabel className={classes.selectText}>\n                          {t('settings.userManagementTab.label.userStatus')}\n                        </InputLabel>\n                        <Select\n                          label=\"User Status\"\n                          value={filters.status}\n                          onChange={(event) => {\n                            setFilters({\n                              ...filters,\n                              status: event.target.value as string,\n                            });\n                            setPaginationData({ ...paginationData, pageNo: 0 });\n                          }}\n                          className={classes.selectText}\n                          color=\"secondary\"\n                        >\n                          <MenuItem value=\"all\">\n                            {t('settings.userManagementTab.label.options.all')}\n                          </MenuItem>\n                          <MenuItem value=\"signedout\">\n                            {t(\n                              'settings.userManagementTab.label.options.notSignedIn'\n                            )}\n                          </MenuItem>\n                          <MenuItem value=\"signedin\">\n                            {t(\n                              'settings.userManagementTab.label.options.signedIn'\n                            )}\n                          </MenuItem>\n                        </Select>\n                      </FormControl>\n                    </div>\n                  </div>\n                  <div data-cy=\"createUser\">\n                    <ButtonFilled\n                      handleClick={() => {\n                        setShowDiv(true);\n                      }}\n                      isPrimary\n                    >\n                      <div>{t('settings.userManagementTab.button.create')}</div>\n                    </ButtonFilled>\n                  </div>\n                </Toolbar>\n                {/* user table */}\n                <Paper className={classes.root}>\n                  <TableContainer className={classes.table}>\n                    <Table stickyHeader aria-label=\"sticky table\">\n                      <TableHead>\n                        <TableRow className={classes.TR}>\n                          <StyledTableCell className={classes.styledTC}>\n                            {t('settings.userManagementTab.tableCell.status')}\n                          </StyledTableCell>\n                          <StyledTableCell>\n                            {t('settings.userManagementTab.tableCell.username')}\n                          </StyledTableCell>\n                          <StyledTableCell>\n                            {t('settings.userManagementTab.tableCell.email')}\n                          </StyledTableCell>\n                          <StyledTableCell>\n                            {t(\n                              'settings.userManagementTab.tableCell.userCreated'\n                            )}\n                          </StyledTableCell>\n                          <StyledTableCell />\n                          <TableHead />\n                        </TableRow>\n                      </TableHead>\n                      <TableBody>\n                        {filteredData && filteredData.length ? (\n                          filteredData\n                            .slice(\n                              paginationData.pageNo *\n                                paginationData.rowsPerPage,\n                              paginationData.pageNo *\n                                paginationData.rowsPerPage +\n                                paginationData.rowsPerPage\n                            )\n                            .map((row, index) => (\n                              <TableRow\n                                data-cy=\"userTableRow\"\n                                key={row.name}\n                                className={classes.TR}\n                              >\n                                <TableCell\n                                  className={classes.firstTC}\n                                  component=\"th\"\n                                  scope=\"row\"\n                                >\n                                  <div className={classes.firstCol}>\n                                    {row.logged_in ? (\n                                      <div className={classes.Signed}>\n                                        {t(\n                                          'settings.userManagementTab.label.options.signedIn'\n                                        )}\n                                      </div>\n                                    ) : (\n                                      <div className={classes.NotSigned}>\n                                        {t(\n                                          'settings.userManagementTab.label.options.notSignedIn'\n                                        )}\n                                      </div>\n                                    )}\n\n                                    {row.name}\n                                  </div>\n                                </TableCell>\n                                <TableCell className={classes.otherTC}>\n                                  {row.username}\n                                </TableCell>\n                                <TableCell className={classes.otherTC}>\n                                  {row.email}\n                                </TableCell>\n                                <TableCell className={classes.otherTC}>\n                                  <div className={classes.dateDiv}>\n                                    <img\n                                      className={classes.calIcon}\n                                      src=\"./icons/calendarIcon.svg\"\n                                      alt=\"calendar\"\n                                    />\n                                    {formatDate(row.created_at)}\n                                  </div>\n                                </TableCell>\n\n                                <TableCell\n                                  className={classes.lastTC}\n                                  key={row.username}\n                                >\n                                  <IconButton\n                                    data-cy=\"editUser\"\n                                    aria-label=\"more\"\n                                    aria-controls=\"long-menu\"\n                                    aria-haspopup=\"true\"\n                                    onClick={(event) => {\n                                      setCurrRow(row);\n                                      setAnchorEl(event.currentTarget);\n                                    }}\n                                    className={classes.optionBtn}\n                                  >\n                                    <MoreVertIcon />\n                                  </IconButton>\n                                  <Menu\n                                    keepMounted\n                                    open={Boolean(anchorEl)}\n                                    id=\"long-menu\"\n                                    anchorEl={anchorEl}\n                                    onClose={handleClose}\n                                  >\n                                    <MenuItem\n                                      data-cy=\"editProfile\"\n                                      value={index}\n                                      onClick={() => {\n                                        setEditDiv(true);\n                                        setAnchorEl(null);\n                                      }}\n                                    >\n                                      <IconButton disabled>\n                                        <img\n                                          alt=\"delete\"\n                                          src=\"./icons/Edit.svg\"\n                                        />\n                                      </IconButton>\n                                      {t(\n                                        'settings.userManagementTab.editProfile'\n                                      )}\n                                    </MenuItem>\n                                    {/* \n                                    <MenuItem\n                                      value=\"delete\"\n                                      disabled\n                                      onClick={() => {}}\n                                    >\n                                      <IconButton disabled>\n                                        <img\n                                          alt=\"delete\"\n                                          src=\"./icons/bin.svg\"\n                                        />\n                                      </IconButton>\n                                      <Typography>Delete User</Typography>\n                                    </MenuItem> */}\n                                  </Menu>\n                                </TableCell>\n                              </TableRow>\n                            ))\n                        ) : (\n                          <TableRow>\n                            <TableCell colSpan={5}>\n                              <Typography align=\"center\">\n                                {t('settings.userManagementTab.noUsers')}\n                              </Typography>\n                            </TableCell>\n                          </TableRow>\n                        )}\n                      </TableBody>\n                    </Table>\n                  </TableContainer>\n                  <TablePagination\n                    rowsPerPageOptions={[5, 10, 25]}\n                    component=\"div\"\n                    count={filteredData?.length ?? 0}\n                    rowsPerPage={paginationData.rowsPerPage}\n                    page={paginationData.pageNo}\n                    onChangePage={(_, page) =>\n                      setPaginationData({\n                        ...paginationData,\n                        pageNo: page,\n                      })\n                    }\n                    onChangeRowsPerPage={(event) =>\n                      setPaginationData({\n                        ...paginationData,\n                        pageNo: 0,\n                        rowsPerPage: parseInt(event.target.value, 10),\n                      })\n                    }\n                  />\n                </Paper>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\nexport default UserManagement;\n"]},"metadata":{},"sourceType":"module"}